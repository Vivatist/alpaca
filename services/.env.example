# =============================================================================
# ALPACA Services - Environment Configuration
# =============================================================================
# Скопируйте этот файл в .env и настройте под своё окружение:
#   cp .env.example .env
#
# Docker Compose автоматически загружает .env файл из текущей директории
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (Supabase) - ОБЯЗАТЕЛЬНО
# -----------------------------------------------------------------------------
# Получите пароль из ~/supabase/docker/.env (POSTGRES_PASSWORD)
# Для Docker-сервисов используйте 172.17.0.1 (Docker host gateway) и порт 54322
DATABASE_URL=postgresql://postgres:YOUR_POSTGRES_PASSWORD@172.17.0.1:54322/postgres

# -----------------------------------------------------------------------------
# Ollama Configuration - ОБЯЗАТЕЛЬНО
# -----------------------------------------------------------------------------
# URL для подключения к Ollama API
# 
# Варианты:
#   - Удалённый сервер (Tailscale): http://100.68.201.91:11434
#   - Локальный Ollama на хосте: http://host.docker.internal:11434
#   - Ollama в том же docker-compose: http://ollama:11434
#
OLLAMA_BASE_URL=http://100.68.201.91:11434

# -----------------------------------------------------------------------------
# Остальные настройки (опционально, значения по умолчанию в docker-compose.yml)
# -----------------------------------------------------------------------------

# Пути к папкам (по умолчанию относительно services/)
# MONITORED_FOLDER_PATH=../monitored_folder
# TMP_MD_PATH=../tmp_md

# Модели Ollama
# OLLAMA_EMBEDDING_MODEL=bge-m3
# OLLAMA_LLM_MODEL=qwen2.5:32b

# Chat Backend: simple (RAG+Ollama) | agent (LangChain+MCP)
# CHAT_BACKEND=agent

# RAG параметры
# RAG_TOP_K=5
# RAG_SIMILARITY_THRESHOLD=0.3

# Ingest: Cleaner pipeline
# CLEANER_PIPELINE=["simple","stamps"]

# Ingest: Chunker backend (simple | smart)
# CHUNKER_BACKEND=smart
# CHUNK_SIZE=1000
# CHUNK_OVERLAP=200

# Ingest: MetaExtractor pipeline
# METAEXTRACTOR_PIPELINE=["base","llm"]
