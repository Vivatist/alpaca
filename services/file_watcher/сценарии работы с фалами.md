Данный фай описывает правильные действия программы при сравнении текущего состояния на диске с таблицей состояний - files в базе данных

1. Если путь файла отсутствует в базе → добавляем новую запись со статусом `added`

2. Заголовки столбцов - текущий статус обрабатываемой записи в таблице. Левый столбец - сценарий. Клетки - действия при соответствующем статусе и сценарии. Ничего не делаем означает что прокрамма просто переходит к следующей записи в таблице не внося изменения в текущую.

**Примечание:** При переименовании/перемещении файла программа обработает это как два действия: удаление старого пути (`deleted`) + добавление нового (`added`). Это приведёт к повторной обработке файла.

| &nbsp; | **Текущий status_sync = added (Помечен для обработки)** | **Текущий status_sync = updated (Помечен для переобработки)** | **Текущий status_sync = processed (Помечен для удаления)** | **Текущий status_sync = deleted (Помечен для удаления)** | **Текущий status_sync = ок (Файл обработан ingest_pipeline_flow нормально)** | **Текущий error (Файл обработан ingest_pipeline_flow с ошибкой)** | **Текущий status_sync = NULL (неизвестно как появившаяся запись)** |
| --- | --- | --- | --- | --- | --- | --- | --- |
| **Хеш есть в базе но отсутствует на диске (Файл удален)** | пометить как deleted | пометить как deleted | пометить как deleted | пометить как deleted | пометить как deleted | пометить как deleted | пометить как deleted |
| **Хэш на диске = хэш в базе, Путь на диске = путь в базе (нормальная ситуация когда файл соответствует базе)** | ничего не делаем | ничего не делаем | ничего не делаем | помечаем updated | ничего не делаем | ничего не делаем | помечаем updated |
| **Хэш на диске != хэш в базе,  <br>Путь на диске = путь в базе (когда изменилось содержимое файла)** | обновляем хэш меняем на updated | обновляем хэш оставляем updated | обновляем хэш меняем на updated | обновляем хэш меняем на updated | обновляем хэш меняем на updated | обновляем хэш меняем на updated | обновляем хэш меняем на updated |