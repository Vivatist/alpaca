<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALPACA RAG Test Console</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü¶ô ALPACA RAG Test Console</h1>
            <div class="config">
                <label>API URL: <input type="text" id="apiUrl" value="http://localhost:8082/api/chat"></label>
                <label>Backend: 
                    <select id="backend">
                        <option value="complex_agent" selected>complex_agent</option>
                        <option value="simple">simple</option>
                        <option value="agent">agent</option>
                    </select>
                </label>
            </div>
        </header>

        <main>
            <div class="panel left-panel">
                <h2>üìù –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã</h2>
                <div class="test-queries">
                    <div class="query-controls">
                        <button id="runAllBtn" class="btn btn-primary">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ</button>
                        <button id="stopBtn" class="btn btn-danger" disabled>‚èπÔ∏è –°—Ç–æ–ø</button>
                        <button id="invertCheckboxesBtn" class="btn btn-secondary">üîÑ –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    <div class="query-list" id="queryList"></div>
                    <div class="add-query">
                        <input type="text" id="newQuery" placeholder="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å...">
                        <button id="addQueryBtn" class="btn btn-small">‚ûï</button>
                    </div>
                </div>
            </div>

            <div class="panel right-panel">
                <h2>üí¨ –†—É—á–Ω–æ–π –∑–∞–ø—Ä–æ—Å</h2>
                <div class="manual-query">
                    <textarea id="manualInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å..." rows="3"></textarea>
                    <button id="sendBtn" class="btn btn-primary">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
                
                <div class="current-response">
                    <h3>–¢–µ–∫—É—â–∏–π –æ—Ç–≤–µ—Ç <span id="responseStatus"></span></h3>
                    <div class="response-meta" id="responseMeta"></div>
                    <div class="response-content" id="responseContent"></div>
                    <div class="response-sources" id="responseSources"></div>
                </div>
            </div>
        </main>

        <section class="results-section">
            <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤</h2>
            <div class="results-summary" id="resultsSummary"></div>
            <div class="results-table-container">
                <table class="results-table" id="resultsTable">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>–ó–∞–ø—Ä–æ—Å</th>
                            <th>–§–∏–ª—å—Ç—Ä—ã</th>
                            <th>–ù–∞–π–¥–µ–Ω–æ</th>
                            <th>–í—Ä–µ–º—è</th>
                            <th>–û—Ç–≤–µ—Ç</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody"></tbody>
                </table>
            </div>
        </section>
    </div>

    <script src="queries.js"></script>
    <script src="app.js"></script>
</body>
</html>
